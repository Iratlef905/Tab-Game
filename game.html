<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Set character encoding for proper text rendering -->
    <meta charset="UTF-8">

    <!-- Make page responsive on mobile devices -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Page title shown in the browser tab -->
    <title>Tab Game</title>

    <!-- Link to external CSS file for styling -->
    <link rel="stylesheet" href="gamestyle.css">

    <!-- Link to external JS file for game logic, deferred to load after HTML -->
    <script src="gamelogic.js" defer></script>
</head>

<body>
    <!-- ================== MAIN CONTENT ================== -->
    <div class="main-content">

        <!-- ================== TOP BAR ================== -->
        <div class="top-bar">
            <!-- Login form container (left side of top bar) -->
            <div class="login-container">
                <form>
                    <input type="text" placeholder="Username"> <!-- Input for username -->
                    <input type="password" placeholder="Password"> <!-- Input for password -->
                    <button>Login</button> <!-- Login button -->
                </form>
            </div>

            <h1>Tab Game</h1> <!-- Main page heading, centered in top bar -->
        </div>

        <hr class="divider"> <!-- Divider line to separate sections -->

        <!-- ================== GAME FIELDS CONTAINER ================== -->
        <div class="fields-container">
            <!-- Board field container, includes board grid and messages -->
            <div class="field board">
                <div class="board" id="board"></div> <!-- Dynamic game board generated by JS -->
                <div class="field message" id="message-box">Messages</div> <!-- Message area for game updates -->
            </div>


            <!-- ================== DICE FIELD ================== -->
            <div class="field" id="dice-field">
                <div class="dice-container">
                    <img id="dice-image" src="images/initial_dice.png" alt="Dice result"> <!-- Shows current dice face -->
                </div>
                <button id="rollDiceBtn">Roll Dice</button> <!-- Button to roll the dice -->
            </div>
        </div>

        <hr class="divider"> <!-- Divider below board and dice section -->

        <!-- ================== RULES SECTION ================== -->
        <div class="rules-section">

            <details> <!-- Collapsible container for all rules -->
                <summary>
                    <h2>Rules</h2> <!-- Main rules heading -->
                </summary>

                <ul>
                    <div class="rules-points">
                        <!-- Each game rule category as a collapsible section -->
                        <details>
                            <summary><h3>The Board</h3></summary>
                            <ul>
                                <li>Board has four lines</li>
                                <li>Number of columns must be odd</li>
                            </ul>
                        </details>

                        <details>
                            <summary><h3>The Pieces</h3></summary>
                            <ul>
                                <li>Each player has as many pieces as the number of columns (blue/red)</li>
                                <li>Transparency indicates piece state: not moved / moved / reached last row</li>
                            </ul>
                        </details>

                        <details>
                            <summary><h3>Wooden Dice</h3></summary>
                            <ul>
                                <li>Use 4 wooden sticks, 2 different sides (dark/light)</li>
                                <li>Count number of light sides after throwing</li>
                                <li>0 → 6 spaces, 1 → 1 space, 2 → 2 spaces, 3 → 3 spaces, 4 → 4 spaces</li>
                                <li><b><u>Play again if result is 1, 4, or 6</u></b></li>
                            </ul>
                        </details>

                        <details>
                            <summary><h3>Moving the Pieces</h3></summary>
                            <ul>
                                <li>First move always 1 space (must throw dice first)</li>
                                <li>Cannot move to a spot with opponent pieces</li>
                                <li>Odd rows: move right → left; even rows: left → right</li>
                                <li>Row transitions: 1 → 2, 2 → 3, 3 → 2/4, 4 → 3</li>
                                <li>Landing on opponent piece captures it</li>
                                <li>Game ends when one player has no pieces on board</li>
                            </ul>
                        </details>

                        <details>
                            <summary><h3>Restrictions</h3></summary>
                            <ul>
                                <li>Only one piece per spot</li>
                                <li>Piece can only enter 4th row once</li>
                                <li>Cannot move in 4th row if any piece in 1st row</li>
                                <li>Piece cannot return to 1st row</li>
                            </ul>
                        </details>

                        <details>
                            <summary><h3>Special Dice Rules</h3></summary>
                            <ul>
                                <li>Dice may not allow a valid move (e.g., moving too far at start)</li>
                                <li>Player must forfeit turn unless a valid move or extra throw is possible</li>
                            </ul>
                        </details>
                    </div>
                </ul>
            </details>
        </div>

        <hr class="divider"> <!-- Divider below rules section -->


        <!-- ================== SCOREBOARD ================== -->
        <div class="scoreboard">
            <h2>Scoreboard</h2>
            <table>
                <thead>
                    <tr>
                        <th>Player</th>       <!-- Column for player names -->
                        <th>Best Result</th>  <!-- Column for storing best score -->
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Player 1</td>     <!-- Player 1 entry -->
                        <td>??</td>           <!-- Placeholder for best result -->
                    </tr>
                    <tr>
                        <td>Player 2</td>     <!-- Player 2 entry -->
                        <td>??</td>           <!-- Placeholder for best result -->
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- ================== HOVER ZONE FOR SIDEBAR ================== -->
        <div class="hover-zone"></div> <!-- Invisible area at right edge to trigger sidebar on hover -->

        <!-- ================== SIDEBAR ================== -->
        <div class="sidebar">
            <!-- New Game Dropdown Section -->
            <details class="new-game-dropdown">
                <summary class="sidebar-button">New Game</summary>
                <div class="new-game-settings">
                    <!-- Opponent Selection -->
                    <label>Opponent:</label>
                    <select id="opponentSelect">
                        <option value="computer">Computer</option>
                        <option value="player">Player</option>
                    </select>

                    <!-- Difficulty Selection (enabled only if opponent is computer) -->
                    <label id="difficultyLabel">Difficulty:</label>
                    <select id="difficultySelect">
                        <option value="normal">Normal</option>
                        <option value="difficult">Difficult</option>
                    </select>

                    <!-- Board Columns Selection -->
                    <label>Board Columns:</label>
                    <select id="columnsSelect">
                        <option value="7">7</option>
                        <option value="9" selected>9</option>
                        <option value="11">11</option>
                        <option value="13">13</option>
                        <option value="15">15</option>
                    </select>

                    <!-- Start Game Button -->
                    <button id="startGameBtn" class="start-btn">Start Game</button>
                </div>
            </details>

            <hr class="divider"> <!-- Divider line between sections -->

            <!-- Sidebar navigation links -->
            <a href="#rules" class="sidebar-button">Rules</a>
            <a href="#score" class="sidebar-button">Scoreboard</a>
            <a href="#main" class="sidebar-button">Home</a>
        </div>
    </body>
</html>